#include <sys/types.h>
#include <dirent.h>
#include <unistd.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
typedef struct s_ls
{
	struct s_ls *next;
	char *filename;

}				t_ls;

t_ls		*ft_create_elem(void *data)
{
	t_ls	*tmp;

	if (!(tmp = (t_ls *)malloc(sizeof(t_ls))))
		return (NULL);
	tmp->filename = data;
	tmp->next = NULL;
	return (tmp);
}
void	create_linklist(t_ls **begin_list, void *data)
{
	t_ls	*list;

	list = *begin_list;
	if (list)
	{
		while (list->next)
			list = list->next;
		list->next = ft_create_elem(data);
	}
	else
		*begin_list = ft_create_elem(data);
}
void	print_ls(t_ls *ls)
{
	while(ls)
	{
		puts(ls->filename);
		ls = ls->next;
	}
}


int	main(int ar, char **av)
{
	DIR *dir;
	struct dirent *ptr;
	t_ls	*ls;

	dir = opendir(".");
	while((ptr = readdir(dir)) > 0)
	{
		create_linklist(&ls, strdup(ptr->d_name));
	}
	print_ls(ls);
	closedir(dir);
}
